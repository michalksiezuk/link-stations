<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: functions.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: functions.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Calculates distance between station and device.
 *
 * Uses Pythagorean Theorem, see project's README for more detailed explanation.
 *
 * @param {number} stationX - Station X coordinate
 * @param {number} stationY - Station Y coordinate
 * @param {number} deviceX - Device X coordinate
 * @param {number} deviceY - Device Y coordinate
 * @returns {number} - Distance between station and device
 */
const calculateDistance = (stationX, stationY, deviceX, deviceY) => {
  return Math.sqrt(Math.pow(stationX - deviceX, 2) + Math.pow(stationY - deviceY, 2));
};

/**
 * Calculates station power.
 *
 * @param {number} distance - Distance between station and device
 * @param {number} reach - Reach of the station
 * @returns {number} - Power of the station
 */
const calculatePower = (distance, reach) => distance > reach ? 0 : Math.pow(reach - distance, 2);

/**
 * Sorts by station power in descending order.
 *
 * @param {Array&lt;number>} stationA
 * @param {Array&lt;number>} stationB
 * @returns {number}
 */
const sortByPower = (stationA, stationB) => stationB[2] - stationA[2];

/**
 * Selects strongest station for given device.
 *
 * For certain stations/device configuration power of strongest station might still be 0.
 *
 * @param {Array&lt;Array&lt;number>>} stations - Array of stations
 * @param {Array&lt;number>} device - Device x,y coordinates
 * @returns {Array&lt;number>} - Station with most power
 */
const getStationWithMostPower = (stations, device) => {
  const sortedStations = stations.map((station) => {
    const [deviceX, deviceY] = device;
    const [stationX, stationY, reach] = station;

    const distance = calculateDistance(stationX, stationY, deviceX, deviceY);
    const power = calculatePower(distance, reach);

    return [stationX, stationY, power];
  }).sort(sortByPower);

  return sortedStations[0];
};

/**
 * Formats error message for given device.
 *
 * @param {Array&lt;number>} device - Array of x,y device coordinates
 * @returns {string} - Formatted error message
 */
const formatErrorMessage = (device) => {
  const [deviceX, deviceY] = device;

  return `No link station within reach for point ${deviceX},${deviceY}.`;
};

/**
 * Formats success message for given device and station.
 *
 * @param {Array&lt;number>} device - Array of x,y device coordinates
 * @param {Array&lt;number>} station - Array of x,y station coordinates and station power
 * @returns {string} - Formatted success message
 */
const formatSuccessMessage = (device, station) => {
  const [deviceX, deviceY] = device;
  const [stationX, stationY, power] = station;

  return `Best link station for point ${deviceX},${deviceY} is ${stationX},${stationY} with power ${power}.`;
};

module.exports = {
  calculateDistance,
  calculatePower,
  getStationWithMostPower,
  formatErrorMessage,
  formatSuccessMessage
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#calculateDistance">calculateDistance</a></li><li><a href="global.html#calculatePower">calculatePower</a></li><li><a href="global.html#formatErrorMessage">formatErrorMessage</a></li><li><a href="global.html#formatSuccessMessage">formatSuccessMessage</a></li><li><a href="global.html#getStationWithMostPower">getStationWithMostPower</a></li><li><a href="global.html#sortByPower">sortByPower</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Jan 14 2020 14:08:55 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
